<!DOCTYPE html>
<html lang="en">
<head>
	<title>Acme CM3-Panel</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, shrink-to-fit=no, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">

	<script src="js/paho-mqtt-min.js"     type="text/javascript"></script>
	<script src="js/jquery-3.3.1.min.js"  type="text/javascript"></script>
	<script src="js/twidgets1.js"         type="text/javascript"></script>	
	<script src="js/raphael-2.1.4.min.js" type="text/javascript"></script>
	<script src="js/justgage.js"          type="text/javascript"></script>
	<script src="js/main.js"              type="text/javascript"></script>	
	
	<link href="js/panel.css" 		      type="text/css" rel="stylesheet">
	<link href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" rel="stylesheet"  crossorigin="anonymous">

	<script>
		$(document).ready(function() {
			// Carica il gruppo di tasti sulla base del parametro sulla url
			// id=id

			if ($.QueryString["id"]!==undefined) {

				// CM2 - Sala proiettore SX
				if ($.QueryString["id"]=="2") {
					new tanzoSwitch("Sala",      		10,"p0");
					new tanzoSwitch("Scala",       		 3,"p1");
					new tanzoSwitch("Cucina",     		11,"p2");
					new tanzoSwitch("Uffici",     		12,"p3");
					new tanzoSwitch("Disco light",      28,"p4");
					new tanzoSwitch("Spiderman",        29,"p5");
				}

				// CM3 - Sala proiettore DS
				if ($.QueryString["id"]=="3") {
					new tanzoSwitch("Sala",             10,"p0");
					new tanzoSwitch("Cucina",     		11,"p1");
					new tanzoSwitch("Uffici",     		12,"p2");
					new tanzoSwitch("Disco light",      28,"p3");
					new tanzoSwitch("Cine cena",       201,"p4");
					new tanzoSwitch("Non toccare !",   200,"p5");
				}

				// CM4 - Cucina sotto Jimi Hendrix
				if ($.QueryString["id"]=="4") {
					new tanzoSwitch("Cucina",     		11,"p0");
					new tanzoSwitch("Sala",             10,"p1");
					new tanzoSwitch("Uffici",     		12,"p2");
					new tanzoSwitch("Disco light",      28,"p3");
				}

				// CM8 - Scala primo piano
				if ($.QueryString["id"]=="8") {
					new tanzoSwitch("Scala",       3,"p0");
					new tanzoSwitch("Uffici",     12,"p1");
					new tanzoSwitch("Sala",       10,"p2");
				}

				// CM11 - Daniela
				if ($.QueryString["id"]=="11") {
					new tanzoSwitch("Packaging", 20,"p0");
					new tanzoSwitch("Benito",    19,"p1");
					new tanzoSwitch("Daniela",   22,"p2");
					new tanzoSwitch("Tiziana",   21,"p3");
					new tanzoSwitch("Uffici",    12,"p4");
					new tanzoSwitch("Scala",      3,"p5");
				}

				// CM12 - Roberto
				if ($.QueryString["id"]=="12") {
					new tanzoSwitch("Roberto",   18,"p0");
					new tanzoSwitch("Uffici",    12,"p1");
					new tanzoSwitch("Cucina",    11,"p2");
					new tanzoSwitch("Sala",      10,"p3");
					new tanzoSwitch("Terrazzo",   1,"p4");
					new tanzoSwitch("Scala",      3,"p5");
				}

				// CM14 - Sergio
				if ($.QueryString["id"]=="14") {
					new tanzoSwitch("Stanza gialla",     13,"p0");
					new tanzoSwitch("Sergio",            17,"p1");
					new tanzoSwitch("Roberto",           18,"p2");
					new tanzoSwitch("Uffici",            12,"p3");
					new tanzoSwitch("Cucina",            11,"p4");
					new tanzoSwitch("Sala",              10,"p5");
				}

				// CM15 - Stanza gialla
				if ($.QueryString["id"]=="15") {
					new tanzoSwitch("Stanza",    13,"p0");
					new tanzoSwitch("Uffici",    12,"p1");
					new tanzoSwitch("Terrazzo",   1,"p2");
				}

				// CM20 - Stanza stanza verde
				if ($.QueryString["id"]=="20") {
					new tanzoSwitch("Stanza",      16,"p0");
					new tanzoSwitch("Uffici",      12,"p1");
					new tanzoSwitch("Disco light", 28,"p2");					
				}

				// CM22 - Sala
				if ($.QueryString["id"]=="22") {
					new tanzoSwitch("Terrazzo",   2,"p0");
					new tanzoSwitch("Sala",      10,"p1");
				}

				// CM23 - Uscita terrazzone
				if ($.QueryString["id"]=="23") {
					new tanzoSwitch("Terrazzo",    2,"p0");
					new tanzoSwitch("Sala",       10,"p1");
					new tanzoSwitch("Biliardino", 29,"p2");
				}

				// CM25 - Piano terra
				if ($.QueryString["id"]=="25") {
					new tanzoSwitch("Scala",      3,"p0");
					new tanzoSwitch("Piantana 1",23,"p1");
					new tanzoSwitch("Piantana 2",24,"p2");
				}

				// CM28 - Cucina
				if ($.QueryString["id"]=="28") {
					new tanzoSwitch("Cucina",    11,"p0");
					new tanzoSwitch("Sala",      10,"p1");
					new tanzoSwitch("Uffici",    12,"p2");
				}

				// CM100 - Test1
				if ($.QueryString["id"]=="100") {
					new tanzoSwitch("Sergio",    17,"p0");
					new tanzoSwitch("Piantana 1",26,"p1");
					new tanzoSwitch("Piantana 2",27,"p2");
					new tanzoSwitch("Uffici",    12,"p3");
					new tanzoSwitch("Cucina",    11,"p4");
					new tanzoSwitch("Sala",      10,"p5");
				}
				
				if ($.QueryString["id"]=="test1") {
					new tanzoSwitch("Bagno",6,"p0");
				}

				if ($.QueryString["id"]=="test2") {
					new tanzoSwitch("Bagno",6,"p0");
				}
			}
			
			
			clock = new tanzoClock("clock","ACME SYSTEMS","Italy");
			
			solar = new tanzoGauge("solar","SOLAR KW");
			solar.g.levelColors=["#00FF00"];
			
			enel  = new tanzoGauge("enel" ,"ENEL KW");
			enel.g.config.min=-30;
			enel.g.config.max=30;
			enel.g.config["levelColors"]=["grey"];
			
			solar.g.config.min=0;
			solar.g.config.max=30;
			solar.g.config["levelColors"]=["#FFFF00","#FF0000"];

			if ($.QueryString["id"]=="2" ||
				$.QueryString["id"]=="3" || 
				$.QueryString["id"]=="4" || 
				$.QueryString["id"]=="8" || 
				$.QueryString["id"]=="11" || 
				$.QueryString["id"]=="14" || 
				$.QueryString["id"]=="15" ||
				$.QueryString["id"]=="22" || 
				$.QueryString["id"]=="23" || 
				$.QueryString["id"]=="28"  
			) {
				new tanzoIcon("t0")
				clock.on();
				enel.off();	
				solar.off();	
			}

			if ($.QueryString["id"]=="12" ||
				$.QueryString["id"]=="20" || 
				$.QueryString["id"]=="25"  
			) {
				new tanzoIcon("t0")
				clock.off();
				enel.on();	
				solar.on();	
			}
			
			message_line = new tanzoMessage("messages");
			message_line.message("Benvenuti in Acme Systems srl");
		});	
	</script>
</head>

<body>
	<!-- Video sullo sfondo -->
	<video autoplay muted loop id="videoclip" style="position: fixed; right: 0px; bottom: 0px; min-width: 100%; min-height: 100%;">
	  <source id="mp4video" type="video/mp4">
	</video>

	<!-- Commutatori -->
	<div style="position: fixed; top: 5px; left:5px;">
		<div id="t0"></div>
		<div id="t1"></div>
		<div id="t2"></div>
		<div id="t3"></div>
		<div id="t4"></div>
		<div id="t5"></div>
	</div>

	<!-- Switch -->
	<div style="position: fixed; top: 5px; right:5px;">
		<div id="p0"></div>
		<div id="p1"></div>
		<div id="p2"></div>
		<div id="p3"></div>
		<div id="p4"></div>
		<div id="p5"></div>
	</div>

	<div id="solar" style="position: fixed; top: -30px; left: 100px; width:300px; height:300px;)"></div>
	<div id="enel"  style="position: fixed; top: 180px; left: 100px; width:300px; height:300px;)"></div>
	
	<!-- Orologio e data -->
	<div id="clock" style="position: fixed; top: 45px; left: 100px;)"></div>
	
	<!-- Linea di messaggi in basso -->
	<div id="messages"></div>
</body>
</html>